20140124
1.ajax请求报302错误时，跳转到login.do地址（已增加对302的处理）
2.查询观察表时，progress填了10，请求参数里面没有值（已修复）
3.点击查询结果里的观察表编号，请求的地址现在为/commedc,应该为/commedc/list/getPatientList（不是问题）
4.基本情况的url为空（已修复）
5.个人史：（data为null时已设置默认值）
存在的可能的情况是，第一次请求获取个人史，还没录入，这时响应中的data为null,
但是个人史的表单应该继续显示，现在却没有显示(其他表单存在一样的问题)。
rf/getPersonHistory.do-请求 Object {id: 8} Form12.js:16
crf/getPersonHistory.do-响应 Object {data: null, errorMsg: "", success: true} 
Uncaught TypeError: Cannot read property 'food' of null Form12.js:24
6.保存个人史时，提交的表单里面有数组，
需要在ajax请求时将整个表单转为json字符串(见聊天记录) （已统一处理）


20140126
1、crf/saveTotalCRF.do，提交全部数据做不到，页面只能显示一个表单，其他表单都销毁了。
	我的理解是这时数据都已经存在了，只需在数据库里把crf改一下状态。
2、还未确定url的接口
	1）新建ADR
	2）获取质疑字段、提交质疑
	3）查看质疑
	4）数据监察
	5）数据管理
	6）全局统计
3、 导出只能为get请求，格式：/commedc/data/export.do?crf=true&type=0&id=1,2,3
4、确定权限
	药师：<shiro:?></shiro:?>
	CRM：<shiro:?></shiro:?>
	DM：<shiro:?></shiro:?>

20140127
1.用药情况的url写错了，应该是getDrugUseInfo.do，不是getDrugCombinationInfo.do
2.20140126容我三思下

20140129
1.增加退出接口,url:/commedc/logout.do
2.修改了index.jsp，用<shiro:hasRole name="CRO"></shiro:hasRole>控制页面权限，现在有四种角色：
CRO：即药师，导航栏是首页，观察表；以及首页第一行新建CRF,新建ADR,修改旧表/解决质疑
LCRO:即分中心管理员，导航栏是首页，观察表，账户管理（只能添加用户，隐藏中心管理功能），以及首页第一行图标
CRM:即监察员，导航栏
是首页，监察，数据字典，图片上传，以及首页第二行图标
DM:级超级管理员，导航栏是首页，监察，数据字典，图片上传,全局统计，数据管理，数据字典，账户管理，以及首页第三行图标
3.修改密码的url从/commedc/password.html改成/commedc/password.do
4.session超时后，ajax请求会得到302的错误，然后会重定向url到/commedc/login.do,但是页面没有跳转，需要自动跳转
对20140126问题的清理，
1)全部提交调用url为/commedc/crf/saveTotalCRF.do，参数见详细接口.docx,1.2.0.5
2)还未确定url的接口
2.1)新建ADR，需要指定观察表编号，url为/commedc/crf/addADR.do,参数见详细接口.docx,1.2.0.6
2.2)获取质疑字段，url为/commed/supervise/getDoubtDict.do,参数见详细接口.docx,1.2.0.2
提交质疑，url为/commed/supervise/saveDoubtColumn.do,参数见详细接口.docx,1.2.0.3
3)查看质疑，url为/commed/supervise/getDoubtRecord.do,参数见详细接口.docx,1.2.0.4
4)数据监察地址和同观察表，都是/commedc/getPatientList，参数也一样
5)数据管理,地址也是/commedc/getPatientList，参数也一样。
6)全局统计待定

2014.2.17
1. crf/getCRFSumm.do，返回值增加每个表单的质疑数，见1.2.0.1
2. supervise/getDoubtRecord.do，返回值增加doubtId，见1.2.0.4
3. 增加解决质疑接口，见1.2.0.5

2014.2.18
1.ADR表单中不良反应/事件处理情况，对应的adrDeal和adrDeal3属性值没有根据单选框选择变化，一直为1
type,blood,historyadr,familyadr等没有变化
（fixed）
2.用药情况表单里面，痰热清用药情况，多次用药情况，提交时候只是提交当前选中那次的用药情况，
改成一次提交所有用药情况，且用一个id表示每次用药情况的具体顺序。
（一次全部提交还是做不到，原因和CRF全部提交一样，页面元素太多，只保存了一份） 
   (那建议要考虑提示只保存当前页的用药情况，或者把保存按钮放在页面内)（目前实现就是如此）

2014.2.19 
1.缺少左侧导航栏的质疑数，缺少查看质疑列表中的解决质疑按钮（目前只对CRO和LCRO权限做了显示，需确认？）
(A:CRM应该也要看到，不然怎么知道还有哪里的质疑没确认，或者需确认)
(不做控制，对全部角色显示)
2014.2.20
1. 前端验证都已添加，需要后端进行验证的部分：用药情况、合并用药、用药小结：入院日期 <= 用药开始日期 <= 用药结束日期 <= 出院日期 （当前页面不知道 入院日期 和 出院日期 ）
(A:如果时间不对，将返回错误信息提示)
2. 自动提示接口，见1.3（共7处调用：用药情况-同瓶、同组、注射剂、禁忌；合并用药-通用名称、给药途径；ADR-通用名称）
(A:在1.3接口中增加type字段，药品名称，给药途径已确定， 剂量单位，给药频次需确认？)
(已添加)
3. 用药情况接口修改?
(A:修改了一个变量名gpSolvent2Dose？还有别的地方吗)
(界面做了调整，接口变更见1.2.5飘黄)

2014.2.21
1.基本情况里的用药科室和医疗费用方式，是不是选其他之后再出现文本框？
(不变)
2.既往史，gxb,gxy,tnb默认为1，不对，应该是0。取消高血压后，保存的时候gxy还是为原来选中的值。
(gxb,gxy,tnb存1-3存就行，是否勾选保存正确就行，不会影响界面显示和理解)
3.病症情况，1.4里，儿童和成人都可以选中，轻度和重度可以复选，逻辑不对。
(改为单选，接口变更见1.2.4飘黄)